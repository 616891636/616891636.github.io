<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>每日Pixiv照片墙</title>
</head> 
        <link rel="stylesheet" type="text/css" href="css/style.css" />
 
 <body  style="overflow:-Scroll;overflow-y:hidden;font-family:'微软雅黑';font-style:italic;" >
		<div class="content">
			<header>
<!--		<h1>A silent world</h1>
			<span>Image Wall with jQuery and CSS3</span>
-->			</header>
			<div class="iw_wrapper">
				<ul class="iw_thumbs" id="iw_thumbs" >
					<!-- 获取p站上每日前50名的url或者下载下来 -->
						
				</ul>
			</div>
			<div id="iw_ribbon" class="iw_ribbon">
			</div>
		</div>
		
		<script type="text/javascript" src="js/jquery-1.6.1.js" ></script>
		<script type="text/javascript" src="js/jquery.masonry.min.js"></script>
		<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
		
		
<script>
     for(var i=0;i<50;i++){
       	       document.getElementById("iw_thumbs").innerHTML+="<li><img src='images/blank_img.jpg' /><div><h2></h2><p></p></div></li>"
     }
        document.getElementById("iw_thumbs").innerHTML+="<li style='padding: 500px;'></li>";


	 var load_url="http://56.50.32.160:8080/Pixiv_wall_project/pixiv_wall";
 $.ajax({
        data:{},//这是要传给action的值，action中用getset获取可用
        type: 'post',//struts2使用post不乱码
        url: load_url,
        dataType: 'json',
        success: function(data) {},
        error:function(e) {
       var data=[ 
    {
        "img_no": "1位",
        "img_title": "RE:0",
        "img_painter": "swd3e2",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57707529",
        "img_src": "http://i2.pixiv.net/c/240x480/img-master/img/2016/07/03/00/00/09/57707529_p0_master1200.jpg"
    },
    {
        "img_no": "2位",
        "img_title": "ご注文はバルバロうさぎですか？",
        "img_painter": "コ゛りぼて",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57713562",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/03/09/00/01/57713562_p0_master1200.jpg"
    },
    {
        "img_no": "3位",
        "img_title": "最後の夏",
        "img_painter": "森倉円",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57724239",
        "img_src": "http://i4.pixiv.net/c/240x480/img-master/img/2016/07/03/20/59/00/57724239_p0_master1200.jpg"
    },
    {
        "img_no": "4位",
        "img_title": "Fate　",
        "img_painter": "こうましろ@2日目東A08a",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57709927",
        "img_src": "http://i4.pixiv.net/c/240x480/img-master/img/2016/07/03/01/27/17/57709927_p0_master1200.jpg"
    },
    {
        "img_no": "5位",
        "img_title": "エリザベート・バートリー",
        "img_painter": "ミカ ピカゾ|3日西あ55a",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57724910",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/03/21/26/02/57724910_p0_master1200.jpg"
    },
    {
        "img_no": "6位",
        "img_title": "fragile",
        "img_painter": "456",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57721770",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/03/18/54/50/57721770_p0_master1200.jpg"
    },
    {
        "img_no": "7位",
        "img_title": "Aqours！カウントダウンまとめ",
        "img_painter": "しぴー",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57709401",
        "img_src": "http://i2.pixiv.net/c/240x480/img-master/img/2016/07/03/01/01/27/57709401_p0_master1200.jpg"
    },
    {
        "img_no": "8位",
        "img_title": "スタジオジブリ",
        "img_painter": "ハラダミユキ@お仕事募集中",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57729383",
        "img_src": "http://i4.pixiv.net/c/240x480/img-master/img/2016/07/04/00/06/27/57729383_p0_master1200.jpg"
    },
    {
        "img_no": "9位",
        "img_title": "初恋",
        "img_painter": "ハラダミユキ@お仕事募集中",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57707898",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/03/00/08/35/57707898_p0_master1200.jpg"
    },
    {
        "img_no": "10位",
        "img_title": "水着フォルテ",
        "img_painter": "虫麻呂",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57709065",
        "img_src": "http://i2.pixiv.net/c/240x480/img-master/img/2016/07/03/01/22/22/57709065_p0_master1200.jpg"
    },
    {
        "img_no": "11位",
        "img_title": "エミリア",
        "img_painter": "RAN",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57707706",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/03/00/03/37/57707706_p0_master1200.jpg"
    },
    {
        "img_no": "12位",
        "img_title": "強い風に",
        "img_painter": "ちょこ庵",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57730952",
        "img_src": "http://i1.pixiv.net/c/240x480/img-master/img/2016/07/04/01/03/05/57730952_p0_master1200.jpg"
    },
    {
        "img_no": "13位",
        "img_title": "Vascular Folia",
        "img_painter": "鵜飼沙樹",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57722658",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/03/19/43/20/57722658_p0_master1200.jpg"
    },
    {
        "img_no": "14位",
        "img_title": "✿",
        "img_painter": "hakusaiラノベ仕事募集中",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57728985",
        "img_src": "http://i2.pixiv.net/c/240x480/img-master/img/2016/07/04/00/00/01/57728985_p0_master1200.jpg"
    },
    {
        "img_no": "15位",
        "img_title": "(￣^￣)ゞ",
        "img_painter": "刃天",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57716657",
        "img_src": "http://i2.pixiv.net/c/240x480/img-master/img/2016/07/03/13/41/40/57716657_p0_master1200.jpg"
    },
    {
        "img_no": "16位",
        "img_title": "どうにも止まらない⑨",
        "img_painter": "若林稔弥",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57724541",
        "img_src": "http://i2.pixiv.net/c/240x480/img-master/img/2016/07/03/21/11/34/57724541_p0_master1200.jpg"
    },
    {
        "img_no": "17位",
        "img_title": "Love∞Destiny",
        "img_painter": "infukun",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57729447",
        "img_src": "http://i4.pixiv.net/c/240x480/img-master/img/2016/07/04/00/08/22/57729447_p0_master1200.jpg"
    },
    {
        "img_no": "18位",
        "img_title": "♪♪",
        "img_painter": "ももこ",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57741459",
        "img_src": "http://i4.pixiv.net/c/240x480/img-master/img/2016/07/04/21/31/18/57741459_p0_master1200.jpg"
    },
    {
        "img_no": "19位",
        "img_title": "無題",
        "img_painter": "治",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57718287",
        "img_src": "http://i4.pixiv.net/c/240x480/img-master/img/2016/07/03/15/32/36/57718287_p0_master1200.jpg"
    },
    {
        "img_no": "20位",
        "img_title": "ツイログ",
        "img_painter": "東みなつ＠3日目西ふ-01a",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57735171",
        "img_src": "http://i4.pixiv.net/c/240x480/img-master/img/2016/07/04/12/00/04/57735171_p0_master1200.jpg"
    },
    {
        "img_no": "21位",
        "img_title": "【スプラトゥーン】緑チームシリーズ【23】",
        "img_painter": "NANA",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57722909",
        "img_src": "http://i2.pixiv.net/c/240x480/img-master/img/2016/07/03/19/56/14/57722909_p0_master1200.jpg"
    },
    {
        "img_no": "22位",
        "img_title": "私立 江戸川学園取手高校",
        "img_painter": "クマノイ",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57720258",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/03/17/32/50/57720258_p0_master1200.jpg"
    },
    {
        "img_no": "23位",
        "img_title": "この桃太郎性格に難ありです。　３話",
        "img_painter": "トイレ籠",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57733766",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/04/07/25/18/57733766_p0_master1200.jpg"
    },
    {
        "img_no": "24位",
        "img_title": "いつか、淡色の空の下 1-2話 『君に渡したいものがあるんだ』",
        "img_painter": "にいち@夏コミ3日目西れ42b",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57729253",
        "img_src": "http://i2.pixiv.net/c/240x480/img-master/img/2016/07/04/00/03/09/57729253_p0_master1200.jpg"
    },
    {
        "img_no": "25位",
        "img_title": "七夕の海にキラ星を浮かべて",
        "img_painter": "ゾノ丸",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57712526",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/03/05/55/21/57712526_p0_master1200.jpg"
    },
    {
        "img_no": "26位",
        "img_title": "PPP",
        "img_painter": "a    y    u",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57725787",
        "img_src": "http://i4.pixiv.net/c/240x480/img-master/img/2016/07/03/22/00/01/57725787_p0_master1200.jpg"
    },
    {
        "img_no": "27位",
        "img_title": "どうにも止まらない⑩",
        "img_painter": "若林稔弥",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57742182",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/04/22/05/10/57742182_p0_master1200.jpg"
    },
    {
        "img_no": "28位",
        "img_title": "C90 時雨本 表紙",
        "img_painter": "blew",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57717634",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/03/14/50/07/57717634_p0_master1200.jpg"
    },
    {
        "img_no": "29位",
        "img_title": "レムりん",
        "img_painter": "77gl@３日目東ミ06a",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57729297",
        "img_src": "http://i2.pixiv.net/c/240x480/img-master/img/2016/07/04/00/04/22/57729297_p0_master1200.jpg"
    },
    {
        "img_no": "30位",
        "img_title": "まとめ２",
        "img_painter": "ナスナ",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57717932",
        "img_src": "http://i1.pixiv.net/c/240x480/img-master/img/2016/07/03/15/10/42/57717932_p0_master1200.jpg"
    },
    {
        "img_no": "31位",
        "img_title": "あまねく生命に祝福を",
        "img_painter": "うづき秋",
        "img_link": "http://www.pixiv.net/member_illust.php?mode=medium&illust_id=57714046",
        "img_src": "http://i3.pixiv.net/c/240x480/img-master/img/2016/07/03/09/53/27/57714046_p0_master1200.jpg"
    },
    {
        "img_no": "32位",
        "img_title": "ピースフルデイズ卯月",
        "img_painter": "芹野いつき",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57707853",
        "img_src": "http: //i2.pixiv.net/c/240x480/img-master/img/2016/07/03/00/07/26/57707853_p0_master1200.jpg"
    },
    {
        "img_no": "33位",
        "img_title": "ジャンヌ・オルタ",
        "img_painter": "てび丸",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57707550",
        "img_src": "http: //i3.pixiv.net/c/240x480/img-master/img/2016/07/03/00/00/17/57707550_p0_master1200.jpg"
    },
    {
        "img_no": "34位",
        "img_title": "FGOのあれそれ",
        "img_painter": "縫咲",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57728394",
        "img_src": "http: //i3.pixiv.net/c/240x480/img-master/img/2016/07/03/23/38/54/57728394_p0_master1200.jpg"
    },
    {
        "img_no": "35位",
        "img_title": "羅生門イベまとめ",
        "img_painter": "おひたし熱郎",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57733534",
        "img_src": "http: //i3.pixiv.net/c/240x480/img-master/img/2016/07/04/06/39/12/57733534_p0_master1200.jpg"
    },
    {
        "img_no": "36位",
        "img_title": "愛蜜莉雅",
        "img_painter": "極限の道",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57729497",
        "img_src": "http: //i2.pixiv.net/c/240x480/img-master/img/2016/07/04/00/09/34/57729497_p0_master1200.jpg"
    },
    {
        "img_no": "37位",
        "img_title": "スカサハ師匠",
        "img_painter": "kauto@お仕事募集中",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57731654",
        "img_src": "http: //i3.pixiv.net/c/240x480/img-master/img/2016/07/04/01/45/32/57731654_p0_master1200.jpg"
    },
    {
        "img_no": "38位",
        "img_title": "星を観る",
        "img_painter": "きらばがに",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57734809",
        "img_src": "http: //i2.pixiv.net/c/240x480/img-master/img/2016/07/04/10/59/01/57734809_p0_master1200.jpg"
    },
    {
        "img_no": "39位",
        "img_title": "邪ンヌ",
        "img_painter": "akisa",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57708272",
        "img_src": "http: //i1.pixiv.net/c/240x480/img-master/img/2016/07/03/00/19/56/57708272_p0_master1200.jpg"
    },
    {
        "img_no": "40位",
        "img_title": "FGO落書き詰め３",
        "img_painter": "百蔵",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57731720",
        "img_src": "http: //i1.pixiv.net/c/240x480/img-master/img/2016/07/04/02/29/33/57731720_p0_master1200.jpg"
    },
    {
        "img_no": "41位",
        "img_title": "ガルパンラクガキまとめその3",
        "img_painter": "はんじゅくいぬ",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57724615",
        "img_src": "http: //i4.pixiv.net/c/240x480/img-master/img/2016/07/03/21/14/41/57724615_p0_master1200.jpg"
    },
    {
        "img_no": "42位",
        "img_title": "ログ",
        "img_painter": "惇",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57714082",
        "img_src": "http: //i3.pixiv.net/c/240x480/img-master/img/2016/07/03/09/59/10/57714082_p0_master1200.jpg"
    },
    {
        "img_no": "43位",
        "img_title": "アイスティラミス",
        "img_painter": "チャイ",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57723619",
        "img_src": "http: //i4.pixiv.net/c/240x480/img-master/img/2016/07/03/20/30/00/57723619_p0_master1200.jpg"
    },
    {
        "img_no": "44位",
        "img_title": "SUMMER",
        "img_painter": "nico",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57729547",
        "img_src": "http: //i4.pixiv.net/c/240x480/img-master/img/2016/07/04/00/10/54/57729547_p0_master1200.jpg"
    },
    {
        "img_no": "45位",
        "img_title": "るびぃ",
        "img_painter": "わき@三日目東ミ３６ab",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57708571",
        "img_src": "http: //i4.pixiv.net/c/240x480/img-master/img/2016/07/03/00/29/48/57708571_p0_master1200.jpg"
    },
    {
        "img_no": "46位",
        "img_title": "ナイチンゲールとモー孩児ちゃん",
        "img_painter": "yuja",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57740306",
        "img_src": "http: //i3.pixiv.net/c/240x480/img-master/img/2016/07/04/20/23/52/57740306_p0_master1200.jpg"
    },
    {
        "img_no": "47位",
        "img_title": "レム",
        "img_painter": "雲珠史丸",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57724049",
        "img_src": "http: //i2.pixiv.net/c/240x480/img-master/img/2016/07/03/20/50/46/57724049_p0_master1200.jpg"
    },
    {
        "img_no": "48位",
        "img_title": "バフォメット",
        "img_painter": "幻聴　＠お仕事募集中",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57739840",
        "img_src": "http: //i1.pixiv.net/c/240x480/img-master/img/2016/07/04/19/52/32/57739840_p0_master1200.jpg"
    },
    {
        "img_no": "49位",
        "img_title": "水着aqours",
        "img_painter": "茶みらい",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57708366",
        "img_src": "http: //i3.pixiv.net/c/240x480/img-master/img/2016/07/03/00/23/03/57708366_p0_master1200.jpg"
    },
    {
        "img_no": "50位",
        "img_title": "LoveLive!Sunshine!!",
        "img_painter": "さくらもち",
        "img_link": "http: //www.pixiv.net/member_illust.php?mode=medium&illust_id=57720580",
        "img_src": "http: //i1.pixiv.net/c/240x480/img-master/img/2016/07/03/17/50/41/57720580_p0_master1200.jpg"
    }
];
        
       for(var i=0;i<50;i++){
       //    for(var i=0;i<data.length;i++){
         	document.getElementsByTagName("img")[i].src=data[i].img_src;    
         	document.getElementsByTagName("div")[i+2].getElementsByTagName("h2")[0].innerHTML=data[i].img_no+"."+data[i].img_title;
           	document.getElementsByTagName("div")[i+2].getElementsByTagName("p")[0].innerHTML=data[i].img_painter+"<br><a style='color:white' target='_blank' href="+data[i].img_link+">"+data[i].img_link+"</a>";
         }
        }
    }); 
    
    
</script>

		<script type="text/javascript">
			$(window).load(function(){
				var $iw_thumbs			= $('#iw_thumbs'),
					$iw_ribbon			= $('#iw_ribbon'),
					$iw_ribbon_close	= $iw_ribbon.children('span.iw_close'),
					$iw_ribbon_zoom		= $iw_ribbon.children('span.iw_zoom');
					
					ImageWall	= (function() {
							// window width and height
						var w_dim,
						    // index of current image
							current				= -1,
							isRibbonShown		= false,
							isFullMode			= false,
							// ribbon / images animation settings
							ribbonAnim			= {speed : 500, easing : 'easeOutExpo'},
							imgAnim				= {speed : 400, easing : 'jswing'},
							// init function : call masonry, calculate window dimentions, initialize some events
							init				= function() {
								$iw_thumbs.imagesLoaded(function(){
									$iw_thumbs.masonry({
										isAnimated	: true
									});
								});
								getWindowsDim();
								initEventsHandler();
							},
							// calculate window dimentions
							getWindowsDim		= function() {
								w_dim = {
									width	: $(window).width(),
									height	: $(window).height()
								};
							},
							// initialize some events
							initEventsHandler	= function() {
								
								// click on a image
								$iw_thumbs.delegate('li', 'click', function() {
									if($iw_ribbon.is(':animated')) return false;
									
									var $el = $(this);
									
									if($el.data('ribbon')) {
										showFullImage($el);
									}
									else if(!isRibbonShown) {
										isRibbonShown = true;
										
										$el.data('ribbon',true);
										
										// set the current
										current = $el.index();
									
										showRibbon($el);
									}
									document.getElementById("iw_thumbs").style.overflow="visible";//必须在这个位置进行hidden属性改变拦截
								});
								
								// click ribbon close
								$iw_ribbon_close.bind('click', closeRibbon);
								
								// on window resize we need to recalculate the window dimentions
								$(window).bind('resize', function() {
											getWindowsDim();
											if($iw_ribbon.is(':animated'))
												return false;
											closeRibbon();
										 })
								         .bind('scroll', function() {
											if($iw_ribbon.is(':animated'))
												return false;
											closeRibbon();
										 });
								
							},
							showRibbon			= function($el) {
								var	$img	= $el.children('img'),
									$descrp	= $img.next();
								
								// fadeOut all the other images
								$iw_thumbs.children('li').not($el).animate({opacity : 0.2}, imgAnim.speed);
								
								// increase the image z-index, and set the height to 100px (default height)
								$img.css('z-index', 100)
									.data('originalHeight',$img.height())
									.stop()
									.animate({
										height 		: '220px' //点击后弹出图片的大小
									}, imgAnim.speed, imgAnim.easing);
								
								// the ribbon will animate from the left or right
								// depending on the position of the image
								var ribbonCssParam 		= {
										top	: $el.offset().top - $(window).scrollTop() - 6 + 'px'
									},
									descriptionCssParam,
									dir;
								
								if( $el.offset().left < (w_dim.width / 2) ) {
									dir = 'left';
									ribbonCssParam.left 	= 0;
									ribbonCssParam.right 	= 'auto';
								}
								else {
									dir = 'right';
									ribbonCssParam.right 	= 0;
									ribbonCssParam.left 	= 'auto';
								}
								
								$iw_ribbon.css(ribbonCssParam)
								          .show()
										  .stop()
										  .animate({width : '100%'}, ribbonAnim.speed, ribbonAnim.easing, function() {
												switch(dir) {
													case 'left' :
														descriptionCssParam		= {
															'left' 			: $img.outerWidth(true) + 'px',
															'text-align' 	: 'left'
														};
														break;
													case 'right' :	
														descriptionCssParam		= {
															'left' 			: '-300px',
															'text-align' 	: 'right'
														};
														break;
												};
												$descrp.css(descriptionCssParam).fadeIn();
												// show close button and zoom
												$iw_ribbon_close.show();
												$iw_ribbon_zoom.show();
										  });
								
							},
							// close the ribbon
							// when in full mode slides in the middle of the page
							// when not slides left
							closeRibbon			= function() {
								isRibbonShown 	= false
								
								$iw_ribbon_close.hide();
								$iw_ribbon_zoom.hide();
								
								if(!isFullMode) {
								
									// current wall image
									var $el	 		= $iw_thumbs.children('li').eq(current);
									
									resetWall($el);
									
									// slide out ribbon
									$iw_ribbon.stop()
											  .animate({width : '0%'}, ribbonAnim.speed, ribbonAnim.easing); 
										  
								}
								else {
									$iw_ribbon.stop().animate({
										opacity		: 0.8,
										height 		: '0px',
										marginTop	: w_dim.height/2 + 'px' // half of window height
									}, ribbonAnim.speed, function() {
										$iw_ribbon.css({
											'width'		: '0%',
											'height'	: '126px',
											'margin-top': '0px'
										}).children('img').remove();
									});
									
									isFullMode	= false;
								}
							},
							resetWall			= function($el) {
								var $img		= $el.children('img'),
									$descrp		= $img.next();
									
								$el.data('ribbon',false);
								
								// reset the image z-index and height
								$img.css('z-index',1).stop().animate({
									height 		: $img.data('originalHeight')
								}, imgAnim.speed,imgAnim.easing);
								
								// fadeOut the description
								$descrp.fadeOut();

								// fadeIn all the other images
								$iw_thumbs.children('li').not($el).animate({opacity : 1}, imgAnim.speed);								
							},
							showFullImage		= function($el) {
								/*isFullMode	= true;
								
								$iw_ribbon_close.hide();
								
								var	$img	= $el.children('img'),
									large	= $img.data('img'),
								
									// add a loading image on top of the image
									$loading = $('<span class="iw_loading"></span>');
								
								$el.append($loading);
								
								// preload large image
								$('<img/>').load(function() {
									var $largeImage	= $(this);
									
									$loading.remove();
									
									$iw_ribbon_zoom.hide();
									
									resizeImage($largeImage);
									
									// reset the current image in the wall
									resetWall($el);
									
									// animate ribbon in and out
									$iw_ribbon.stop().animate({
										opacity		: 1,
										height 		: '0px',
										marginTop	: '63px' // half of ribbons height
									}, ribbonAnim.speed, function() {
										// add the large image to the DOM
										$iw_ribbon.prepend($largeImage);
										
										$iw_ribbon_close.show();
										
										$iw_ribbon.animate({
											height 		: '100%',
											marginTop	: '0px',
											top			: '0px'
										}, ribbonAnim.speed);
									});
								}).attr('src',large);*/
								
								isRibbonShown 	= false
								
								$iw_ribbon_close.hide();
								$iw_ribbon_zoom.hide();
								
								if(!isFullMode) {
								
									// current wall image
									var $el	 		= $iw_thumbs.children('li').eq(current);
									
									resetWall($el);
									
									// slide out ribbon
									$iw_ribbon.stop()
											  .animate({width : '0%'}, ribbonAnim.speed, ribbonAnim.easing); 
										  
								}
								else {
									$iw_ribbon.stop().animate({
										opacity		: 0.8,
										height 		: '0px',
										marginTop	: w_dim.height/2 + 'px' // half of window height
									}, ribbonAnim.speed, function() {
										$iw_ribbon.css({
											'width'		: '0%',
											'height'	: '126px',
											'margin-top': '0px'
										}).children('img').remove();
									});
									
									isFullMode	= false;
								}
									
							},
							resizeImage			= function($image) {
								var widthMargin		= 100,
									heightMargin 	= 100,
								
									windowH      	= w_dim.height - heightMargin,
									windowW      	= w_dim.width - widthMargin,
									theImage     	= new Image();
									
								theImage.src     	= $image.attr("src");
								
								var imgwidth     	= theImage.width,
									imgheight    	= theImage.height;

								if((imgwidth > windowW) || (imgheight > windowH)) {
									if(imgwidth > imgheight) {
										var newwidth 	= windowW,
											ratio 		= imgwidth / windowW,
											newheight 	= imgheight / ratio;
											
										theImage.height = newheight;
										theImage.width	= newwidth;
										
										if(newheight > windowH) {
											var newnewheight 	= windowH,
												newratio 		= newheight/windowH,
												newnewwidth 	= newwidth/newratio;
										
											theImage.width 		= newnewwidth;
											theImage.height		= newnewheight;
										}
									}
									else {
										var newheight 	= windowH,
											ratio 		= imgheight / windowH,
											newwidth 	= imgwidth / ratio;
										
										theImage.height = newheight;
										theImage.width	= newwidth;
										
										if(newwidth > windowW) {
											var newnewwidth 	= windowW,
											    newratio 		= newwidth/windowW,
												newnewheight 	= newheight/newratio;
									
											theImage.height 	= newnewheight;
											theImage.width		= newnewwidth;
										}
									}
								}
									
								$image.css({
									'width'			: theImage.width + 'px',
									'height'		: theImage.height + 'px',
									'margin-left'	: -theImage.width / 2 + 'px',
									'margin-top'	: -theImage.height / 2 + 'px',
									'z-index'       :9999
									
								});							
							};
							
						return {init : init};	
					})();
				
				ImageWall.init();
			});
		</script>
    </body>
</html>
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>实现缓存进度条内容</title>
	</head>
        <script type="text/javascript" src="js/jquery-1.6.1.js" ></script>
	<body>
	<video id="myvideo" width="100%" height="100%" controls="controls" >
	    <source src='https://616891636.github.io/video/h246.mp4' type='video/mp4'>
	    <!-- 核心在于上面这种路径,本地使用这种不行<source src='video/h246.mp4' type='video/mp4'>,服务器上使用可以  -->
	   
    </video>
        
		
	</body>
<script type="text/javascript">
	var video = document.getElementById('myvideo');
	var currentTime = localStorage.currentTime;
	console.log("上次结束时间：----" + currentTime);
	video.addEventListener("loadedmetadata", function() {
		this.currentTime = currentTime;
	});
	video.addEventListener("timeupdate", function() {
		localStorage.currentTime = video.currentTime;
		var isOver = document.getElementById("myvideo").ended; //检测视频是否播放结束true,否则返回false
		if(isOver) {
			localStorage.currentTime = 0;
		}
		console.log("最后保存时间：----" + video.currentTime);
	});
</script>
</html>
